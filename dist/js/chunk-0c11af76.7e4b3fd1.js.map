{"version":3,"sources":["webpack:///./src/components/MainPlatingComponent.vue?11a1","webpack:///./src/components/MainPlatingComponent.vue?8df9","webpack:///src/components/MainPlatingComponent.vue","webpack:///./src/components/MainPlatingComponent.vue?cc37","webpack:///./src/components/MainPlatingComponent.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","style","progressMarginTop","progressPercentage","progressStatus","progressWidth","progressStrokenWidth","_v","_s","countdown","timeselectWidth","option","model","value","callback","$$v","expression","on","$event","startPlating","stopPlating","abortPlating","staticRenderFns","data","totalTime","currentTime","Timer","start","step","end","computed","percentage","tmp","minute","second","methods","setInterval","$message","message","iconClass","duration","center","clearInterval","watch","handler","val","created","totTime","$store","state","timerInfo","beforeDestroy","commit","component"],"mappings":"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","file":"js/chunk-0c11af76.7e4b3fd1.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPlatingComponent.vue?vue&type=style&index=0&id=952843b8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plating\"},[_c('el-card',{attrs:{\"body-style\":\"float: middle;\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-progress',{style:('margin-top: ' + _vm.progressMarginTop),attrs:{\"type\":\"circle\",\"percentage\":_vm.progressPercentage,\"status\":_vm.progressStatus,\"width\":_vm.progressWidth,\"stroke-width\":_vm.progressStrokenWidth}})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('h3',[_vm._v(_vm._s(this.countdown))])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-time-select',{style:('width: ' +\n            _vm.timeselectWidth +\n            '; margin-top: 20px; margin-bottom: 10px;'),attrs:{\"editable\":false,\"size\":\"small\",\"align\":\"center\",\"picker-options\":_vm.option,\"placeholder\":\"选择时间\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)],1),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){return _vm.startPlating()}}},[_vm._v(\" 开始计时 \")])],1),_c('el-row',[_c('el-button',{attrs:{\"type\":\"info\",\"round\":\"\"},on:{\"click\":function($event){return _vm.stopPlating()}}},[_vm._v(\"暂停计时\")])],1),_c('el-row',[_c('el-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){return _vm.abortPlating()}}},[_vm._v(\" 终止计时 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"plating\">\r\n    <el-card body-style=\"float: middle;\">\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-progress\r\n            type=\"circle\"\r\n            :style=\"'margin-top: ' + progressMarginTop\"\r\n            :percentage=\"progressPercentage\"\r\n            :status=\"progressStatus\"\r\n            :width=\"progressWidth\"\r\n            :stroke-width=\"progressStrokenWidth\"\r\n          ></el-progress>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <h3>{{ this.countdown }}</h3>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-time-select\r\n            :style=\"\r\n              'width: ' +\r\n              timeselectWidth +\r\n              '; margin-top: 20px; margin-bottom: 10px;'\r\n            \"\r\n            :editable=\"false\"\r\n            size=\"small\"\r\n            align=\"center\"\r\n            v-model=\"value\"\r\n            :picker-options=\"option\"\r\n            placeholder=\"选择时间\"\r\n          ></el-time-select>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-button type=\"primary\" round @click=\"startPlating()\">\r\n          开始计时\r\n        </el-button>\r\n      </el-row>\r\n      <el-row>\r\n        <el-button type=\"info\" round @click=\"stopPlating()\">暂停计时</el-button>\r\n      </el-row>\r\n      <el-row>\r\n        <el-button type=\"danger\" round @click=\"abortPlating()\">\r\n          终止计时\r\n        </el-button>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.plating {\r\n  height: 99%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.el-progress {\r\n  margin-bottom: 20px;\r\n  margin-top: 0px;\r\n  float: middle;\r\n}\r\n\r\n.el-button {\r\n  margin-top: 20px;\r\n  padding: 12px;\r\n}\r\n\r\n.el-card {\r\n  height: 99%;\r\n  overflow-y: auto;\r\n  margin: 2px;\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      value: '',\r\n      totalTime: 0,\r\n      currentTime: 0,\r\n      Timer: '',\r\n      progressStatus: null,\r\n      option: {\r\n        start: '00:05',\r\n        step: '00:05',\r\n        end: '03:00'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    progressMarginTop () {\r\n      const w = document.body.clientWidth\r\n      const h = document.body.clientHeight\r\n      if ((1.0 * h) / w < 1) {\r\n        return '2%'\r\n      } else {\r\n        return '10%'\r\n      }\r\n    },\r\n    progressPercentage () {\r\n      if (!this.totalTime) {\r\n        return 0\r\n      } else if (!this.currentTime) {\r\n        return 0\r\n      } else {\r\n        const percentage = Math.floor(\r\n          (100.0 * this.currentTime) / this.totalTime\r\n        )\r\n        return percentage\r\n      }\r\n    },\r\n    progressWidth () {\r\n      const tmp = document.body.clientWidth\r\n      if (tmp <= 500) {\r\n        return 150\r\n      } else {\r\n        return 250\r\n      }\r\n    },\r\n    progressStrokenWidth () {\r\n      return this.progressWidth / 10\r\n    },\r\n    timeselectWidth () {\r\n      const tmp = document.body.clientWidth\r\n      if (tmp <= 800) {\r\n        return '50%'\r\n      } else {\r\n        return '20%'\r\n      }\r\n    },\r\n    countdown () {\r\n      const remainingTime = this.totalTime - this.currentTime\r\n      const second = remainingTime % 60\r\n      const minute = Math.floor(remainingTime / 60) % 60\r\n      const hour = Math.floor(remainingTime / 3600)\r\n      let countdown = '0' + hour + ':'\r\n      if (minute < 10) {\r\n        countdown += '0' + minute + ':'\r\n      } else {\r\n        countdown += minute + ':'\r\n      }\r\n      if (second < 10) {\r\n        countdown += '0' + second\r\n      } else {\r\n        countdown += second\r\n      }\r\n      return countdown\r\n    }\r\n  },\r\n  methods: {\r\n    startPlating () {\r\n      if (!this.value) {\r\n        this.$message({\r\n          message: '请先选择时间',\r\n          iconClass: 'el-icon-warning-outline',\r\n          duration: 1500,\r\n          center: true\r\n        })\r\n      } else if (this.progressStatus === 'warning') {\r\n        this.Timer = setInterval(() => {\r\n          this.currentTime += 1\r\n        }, 1000)\r\n        this.progressStatus = null\r\n      } else if (this.currentTime === 0) {\r\n        this.totalTime =\r\n          (parseInt(this.value[1]) * 60 +\r\n            parseInt(this.value[3]) * 10 +\r\n            parseInt(this.value[4])) *\r\n          60\r\n        this.currentTime = 0\r\n        this.Timer = setInterval(() => {\r\n          this.currentTime += 1\r\n        }, 1000)\r\n        this.progressStatus = null\r\n      }\r\n    },\r\n    stopPlating () {\r\n      clearInterval(this.Timer)\r\n      this.progressStatus = 'warning'\r\n    },\r\n    abortPlating () {\r\n      clearInterval(this.Timer)\r\n      this.progressStatus = 'exception'\r\n      this.Timer = null\r\n    }\r\n  },\r\n  watch: {\r\n    progressPercentage: {\r\n      handler: function (val) {\r\n        if (val === 100) {\r\n          clearInterval(this.Timer)\r\n          this.Timer = null\r\n          this.progressStatus = 'success'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const totTime = this.$store.state.timerInfo.totalTime\r\n    if (totTime > 0) {\r\n      this.totalTime = totTime\r\n      this.value = this.$store.state.timerInfo.value\r\n      this.currentTime = this.$store.state.timerInfo.currentTime\r\n      this.progressStatus = this.$store.state.timerInfo.progressStatus\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.$store.commit('setValue', this.value)\r\n    this.$store.commit('setTotalTime', this.totalTime)\r\n    this.$store.commit('setCurrentTime', this.currentTime)\r\n    this.$store.commit('setProgressStatus', 'warning')\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPlatingComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPlatingComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPlatingComponent.vue?vue&type=template&id=952843b8&scoped=true&\"\nimport script from \"./MainPlatingComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPlatingComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainPlatingComponent.vue?vue&type=style&index=0&id=952843b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"952843b8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}